<p-toast></p-toast>
<div *ngIf="isLoading" style="text-align: center;">
    <app-loading-spinner></app-loading-spinner>
</div>
<form [formGroup]="userForm" (ngSubmit)="onSubmit()" *ngIf="!isLoading">
    <div class="form-group">
        <div class="row">
            <div class="col-md-3">
                <label for="email">Email</label>
                <input type="text" class="form-control" formControlName="email" id="email" pInputText readonly>
            </div>
            <div class="col-md-3">
                <label for="cpf">CPF</label>
                <p-inputMask class="form-control" formControlName="cpf" id="CPF" mask="999.999.999-99" ></p-inputMask>
            </div>
            <div class="col-md-3">
                <label for="nome">Nome</label>
                <input type="text" class="form-control" formControlName="nome" id="nome" pInputText>
            </div>
            <div class="col-md-3">
                <label for="perfil">Perfil</label>  
                <p-dropdown class="form-control" id="perfil" [options]="perfis" 
                formControlName="perfil" optionLabel="name" 
                optionValue="code"  [readonly]="!isAdm">
                </p-dropdown>
            </div>
        </div>
        <div class="row">
            <div class="col-md-1">
                <button
                  type="submit"
                  class="btn btn-success"
                  [disabled]="!userForm.valid" *ngIf="!editMode">Salvar</button>
                  <button
                  type="submit"
                  class="btn btn-success"
                  [disabled]="!userForm.valid" *ngIf="editMode">Alterar</button>
            </div>       
        </div>
    </div>
  </form>